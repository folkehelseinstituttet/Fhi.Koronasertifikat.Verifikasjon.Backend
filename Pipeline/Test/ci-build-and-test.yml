pool:
  vmImage: 'windows-latest'

variables:
  solution: '**/*.sln'
  buildConfiguration: 'Debug'

steps:
  - task: DotNetCoreCLI@2
    displayName: Build solution
    inputs:
      command: 'build'
      projects: '$(solution)'
      configuration: '$(buildConfiguration)'
  - task: DotNetCoreCLI@2
    displayName: Unit tests
    inputs:
      command: 'test'
      projects: '**/*.UnitTests/*.csproj'
      arguments: '-c $(BuildConfiguration) --no-restore'
